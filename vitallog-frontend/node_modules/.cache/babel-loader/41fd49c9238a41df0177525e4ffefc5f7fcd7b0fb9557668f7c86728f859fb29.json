{"ast":null,"code":"var _jsxFileName = \"/Users/druvath09/venvs/vitallog-frontend/src/components/Dashboard.js\",\n  _s = $RefreshSig$();\n// import React, { useEffect, useState } from \"react\";\n// import api from \"../api/axios\";\n\n// function Dashboard() {\n//   const [readings, setReadings] = useState([]);\n//   const [metricType, setMetricType] = useState(\"weight\");\n//   const [value, setValue] = useState(\"\");\n//   const [unit, setUnit] = useState(\"\");\n//   const [date, setDate] = useState(\"\");\n//   const [filter, setFilter] = useState(\"all\");\n//   const [sortOrder, setSortOrder] = useState(\"desc\");\n//   const [editingId, setEditingId] = useState(null);\n\n//   const token = localStorage.getItem(\"access\");\n\n//   const fetchReadings = async () => {\n//     try {\n//       const res = await api.get(\"/api/readings/\", {\n//         headers: { Authorization: `Bearer ${token}` },\n//       });\n//       setReadings(res.data);\n//     } catch (err) {\n//       console.error(\"Error fetching readings:\", err.response?.data || err.message);\n//     }\n//   };\n\n//   useEffect(() => {\n//     fetchReadings();\n//   }, []);\n\n//   const handleAdd = async (e) => {\n//     e.preventDefault();\n//     try {\n//       await api.post(\n//         \"/api/readings/\",\n//         { metric_type: metricType, value, unit, date },\n//         { headers: { Authorization: `Bearer ${token}` } }\n//       );\n//       fetchReadings();\n//       setValue(\"\");\n//       setUnit(\"\");\n//       setDate(\"\");\n//     } catch (err) {\n//       console.error(\"Error adding reading:\", err.response?.data || err.message);\n//     }\n//   };\n\n//   const handleDelete = async (id) => {\n//     if (!window.confirm(\"Delete this entry?\")) return;\n//     try {\n//       await api.delete(`/api/readings/${id}/`, {\n//         headers: { Authorization: `Bearer ${token}` },\n//       });\n//       fetchReadings();\n//     } catch (err) {\n//       console.error(\"Error deleting:\", err.response?.data || err.message);\n//     }\n//   };\n\n//   const handleEdit = (id) => {\n//     setEditingId(id);\n//   };\n\n//   const handleSaveEdit = async (reading) => {\n//     try {\n//       await api.put(`/api/readings/${reading.id}/`, reading, {\n//         headers: { Authorization: `Bearer ${token}` },\n//       });\n//       setEditingId(null);\n//       fetchReadings();\n//     } catch (err) {\n//       console.error(\"Error saving edit:\", err.response?.data || err.message);\n//     }\n//   };\n\n//   const filteredReadings = readings\n//     .filter((r) => (filter === \"all\" ? true : r.metric_type === filter))\n//     .sort((a, b) =>\n//       sortOrder === \"desc\"\n//         ? new Date(b.date) - new Date(a.date)\n//         : new Date(a.date) - new Date(b.date)\n//     );\n\n//   const uniqueMetrics = [...new Set(readings.map((r) => r.metric_type))];\n\n//   return (\n//     <div className=\"max-w-4xl mx-auto p-4\">\n//       <div className=\"flex justify-between items-center mb-6\">\n//         <h2 className=\"text-2xl font-semibold\">My Health Metrics</h2>\n//         <button\n//           className=\"text-sm text-red-600 hover:underline\"\n//           onClick={() => {\n//             localStorage.removeItem(\"access\");\n//             localStorage.removeItem(\"refresh\");\n//             window.location.href = \"/login\";\n//           }}\n//         >\n//           Logout\n//         </button>\n//       </div>\n\n//       <form\n//         onSubmit={handleAdd}\n//         className=\"flex flex-wrap gap-2 mb-6 items-center\"\n//       >\n//         <select\n//           value={metricType}\n//           onChange={(e) => setMetricType(e.target.value)}\n//           className=\"border rounded px-2 py-1\"\n//         >\n//           <option value=\"weight\">Weight</option>\n//           <option value=\"blood_pressure\">Blood Pressure</option>\n//           <option value=\"blood_sugar\">Blood Sugar</option>\n//         </select>\n//         <input\n//           type=\"number\"\n//           placeholder=\"Value\"\n//           value={value}\n//           onChange={(e) => setValue(e.target.value)}\n//           className=\"border rounded px-2 py-1\"\n//           required\n//         />\n//         <input\n//           placeholder=\"Unit\"\n//           value={unit}\n//           onChange={(e) => setUnit(e.target.value)}\n//           className=\"border rounded px-2 py-1\"\n//           required\n//         />\n//         <input\n//           type=\"date\"\n//           value={date}\n//           onChange={(e) => setDate(e.target.value)}\n//           className=\"border rounded px-2 py-1\"\n//           required\n//         />\n//         <button\n//           type=\"submit\"\n//           className=\"bg-blue-600 text-white px-3 py-1 rounded hover:bg-blue-700\"\n//         >\n//           Add\n//         </button>\n//       </form>\n\n//       <div className=\"flex gap-4 mb-4\">\n//         <div>\n//           <label className=\"mr-2\">Filter:</label>\n//           <select\n//             value={filter}\n//             onChange={(e) => setFilter(e.target.value)}\n//             className=\"border rounded px-2 py-1\"\n//           >\n//             <option value=\"all\">All</option>\n//             {uniqueMetrics.map((m) => (\n//               <option key={m} value={m}>\n//                 {m}\n//               </option>\n//             ))}\n//           </select>\n//         </div>\n\n//         <div>\n//           <label className=\"mr-2\">Sort by date:</label>\n//           <select\n//             value={sortOrder}\n//             onChange={(e) => setSortOrder(e.target.value)}\n//             className=\"border rounded px-2 py-1\"\n//           >\n//             <option value=\"desc\">Newest First</option>\n//             <option value=\"asc\">Oldest First</option>\n//           </select>\n//         </div>\n//       </div>\n\n//       <table className=\"w-full text-left border-t border-b\">\n//         <thead>\n//           <tr className=\"bg-gray-100\">\n//             <th className=\"py-2 px-4\">Date</th>\n//             <th className=\"py-2 px-4\">Metric</th>\n//             <th className=\"py-2 px-4\">Value</th>\n//             <th className=\"py-2 px-4\">Unit</th>\n//             <th className=\"py-2 px-4\">Actions</th>\n//           </tr>\n//         </thead>\n//         <tbody>\n//           {filteredReadings.map((r) => (\n//             <tr key={r.id} className=\"border-t\">\n//               <td className=\"py-2 px-4\">{r.date}</td>\n//               <td className=\"py-2 px-4\">{r.metric_type}</td>\n//               <td className=\"py-2 px-4\">\n//                 {editingId === r.id ? (\n//                   <input\n//                     value={r.value}\n//                     onChange={(e) =>\n//                       setReadings((prev) =>\n//                         prev.map((x) =>\n//                           x.id === r.id ? { ...x, value: e.target.value } : x\n//                         )\n//                       )\n//                     }\n//                     className=\"border px-2 py-1 rounded\"\n//                   />\n//                 ) : (\n//                   r.value\n//                 )}\n//               </td>\n//               <td className=\"py-2 px-4\">\n//                 {editingId === r.id ? (\n//                   <input\n//                     value={r.unit}\n//                     onChange={(e) =>\n//                       setReadings((prev) =>\n//                         prev.map((x) =>\n//                           x.id === r.id ? { ...x, unit: e.target.value } : x\n//                         )\n//                       )\n//                     }\n//                     className=\"border px-2 py-1 rounded\"\n//                   />\n//                 ) : (\n//                   r.unit\n//                 )}\n//               </td>\n//               <td className=\"py-2 px-4\">\n//                 {editingId === r.id ? (\n//                   <button\n//                     onClick={() => handleSaveEdit(r)}\n//                     className=\"text-green-600 hover:underline mr-2\"\n//                   >\n//                     Save\n//                   </button>\n//                 ) : (\n//                   <button\n//                     onClick={() => handleEdit(r.id)}\n//                     className=\"text-blue-600 hover:underline mr-2\"\n//                   >\n//                     Edit\n//                   </button>\n//                 )}\n//                 <button\n//                   onClick={() => handleDelete(r.id)}\n//                   className=\"text-red-600 hover:underline\"\n//                 >\n//                   Delete\n//                 </button>\n//               </td>\n//             </tr>\n//           ))}\n//         </tbody>\n//       </table>\n//     </div>\n//   );\n// }\n\n// export default Dashboard;\n\nimport React, { useEffect, useState } from \"react\";\nimport api from \"../api/axios\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction Dashboard() {\n  _s();\n  const [readings, setReadings] = useState([]);\n  const [metricType, setMetricType] = useState(\"weight\");\n  const [value, setValue] = useState(\"\");\n  const [unit, setUnit] = useState(\"\");\n  const [date, setDate] = useState(\"\");\n  const [editingId, setEditingId] = useState(null);\n  const [filter, setFilter] = useState(\"all\");\n  const [sortOrder, setSortOrder] = useState(\"desc\");\n  const [last30DaysOnly, setLast30DaysOnly] = useState(false);\n  const token = localStorage.getItem(\"access\");\n  const fetchReadings = async () => {\n    try {\n      const res = await api.get(\"/api/readings/\", {\n        headers: {\n          Authorization: `Bearer ${token}`\n        }\n      });\n      setReadings(res.data);\n    } catch (err) {\n      var _err$response;\n      console.error(\"Error fetching readings:\", ((_err$response = err.response) === null || _err$response === void 0 ? void 0 : _err$response.data) || err.message);\n      alert(\"Error fetching data\");\n    }\n  };\n  useEffect(() => {\n    fetchReadings();\n  }, []);\n  const uniqueMetrics = [...new Set(readings.map(r => r.metric_type))];\n  const filteredReadings = readings.filter(r => {\n    if (filter !== \"all\" && r.metric_type !== filter) return false;\n    if (last30DaysOnly) {\n      const today = new Date();\n      const readingDate = new Date(r.date);\n      const diffInDays = (today - readingDate) / (1000 * 60 * 60 * 24);\n      if (diffInDays > 30) return false;\n    }\n    return true;\n  }).sort((a, b) => sortOrder === \"desc\" ? new Date(b.date) - new Date(a.date) : new Date(a.date) - new Date(b.date));\n  const handleSubmit = async e => {\n    e.preventDefault();\n    const payload = {\n      metric_type: metricType,\n      value,\n      unit,\n      date\n    };\n    try {\n      if (editingId) {\n        await api.put(`/api/readings/${editingId}/`, payload, {\n          headers: {\n            Authorization: `Bearer ${token}`\n          }\n        });\n        setEditingId(null);\n      } else {\n        await api.post(\"/api/readings/\", payload, {\n          headers: {\n            Authorization: `Bearer ${token}`\n          }\n        });\n      }\n      setValue(\"\");\n      setUnit(\"\");\n      setDate(\"\");\n      fetchReadings();\n    } catch (err) {\n      var _err$response2;\n      console.error(\"Error saving reading:\", ((_err$response2 = err.response) === null || _err$response2 === void 0 ? void 0 : _err$response2.data) || err.message);\n      alert(\"Error saving reading. Check console for details.\");\n    }\n  };\n  const handleEdit = reading => {\n    setEditingId(reading.id);\n    setMetricType(reading.metric_type);\n    setValue(reading.value);\n    setUnit(reading.unit);\n    setDate(reading.date);\n  };\n  const handleDelete = async id => {\n    if (!window.confirm(\"Are you sure you want to delete this reading?\")) return;\n    try {\n      await api.delete(`/api/readings/${id}/`, {\n        headers: {\n          Authorization: `Bearer ${token}`\n        }\n      });\n      fetchReadings();\n    } catch (err) {\n      var _err$response3;\n      console.error(\"Error deleting reading:\", ((_err$response3 = err.response) === null || _err$response3 === void 0 ? void 0 : _err$response3.data) || err.message);\n      alert(\"Error deleting reading\");\n    }\n  };\n  const handleLogout = () => {\n    localStorage.removeItem(\"access\");\n    localStorage.removeItem(\"refresh\");\n    window.location.reload();\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"min-h-screen bg-gray-100 p-6\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex justify-between items-center mb-6\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        className: \"text-2xl font-bold\",\n        children: \"My Health Metrics\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 371,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: handleLogout,\n        className: \"bg-red-500 text-white px-4 py-2 rounded hover:bg-red-600\",\n        children: \"Logout\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 372,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 370,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: handleSubmit,\n      className: \"flex flex-wrap gap-4 mb-6\",\n      children: [/*#__PURE__*/_jsxDEV(\"select\", {\n        value: metricType,\n        onChange: e => setMetricType(e.target.value),\n        className: \"border rounded px-3 py-2\",\n        children: [/*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"weight\",\n          children: \"Weight\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 386,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"blood_pressure\",\n          children: \"Blood Pressure\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 387,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"blood_sugar\",\n          children: \"Blood Sugar\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 388,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 381,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"number\",\n        placeholder: \"Value\",\n        value: value,\n        onChange: e => setValue(e.target.value),\n        required: true,\n        className: \"border rounded px-3 py-2\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 390,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        placeholder: \"Unit\",\n        value: unit,\n        onChange: e => setUnit(e.target.value),\n        required: true,\n        className: \"border rounded px-3 py-2\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 398,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"date\",\n        value: date,\n        onChange: e => setDate(e.target.value),\n        required: true,\n        className: \"border rounded px-3 py-2\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 405,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"submit\",\n        className: \"bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600\",\n        children: editingId ? \"Update\" : \"Add\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 412,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 380,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex gap-4 mb-4 flex-wrap\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          className: \"mr-2\",\n          children: \"Filter:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 422,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n          value: filter,\n          onChange: e => setFilter(e.target.value),\n          className: \"border rounded px-2 py-1\",\n          children: [/*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"all\",\n            children: \"All\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 428,\n            columnNumber: 13\n          }, this), uniqueMetrics.map(m => /*#__PURE__*/_jsxDEV(\"option\", {\n            value: m,\n            children: m\n          }, m, false, {\n            fileName: _jsxFileName,\n            lineNumber: 430,\n            columnNumber: 15\n          }, this))]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 423,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 421,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          className: \"mr-2\",\n          children: \"Sort by date:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 438,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n          value: sortOrder,\n          onChange: e => setSortOrder(e.target.value),\n          className: \"border rounded px-2 py-1\",\n          children: [/*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"desc\",\n            children: \"Newest First\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 444,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"asc\",\n            children: \"Oldest First\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 445,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 439,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 437,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        className: \"flex items-center space-x-2\",\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"checkbox\",\n          checked: last30DaysOnly,\n          onChange: e => setLast30DaysOnly(e.target.checked),\n          className: \"h-4 w-4 text-blue-600\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 450,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          children: \"Last 30 days only\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 456,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 449,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 420,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"overflow-x-auto\",\n      children: /*#__PURE__*/_jsxDEV(\"table\", {\n        className: \"min-w-full bg-white rounded shadow\",\n        children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n          className: \"bg-gray-200\",\n          children: /*#__PURE__*/_jsxDEV(\"tr\", {\n            children: [/*#__PURE__*/_jsxDEV(\"th\", {\n              className: \"py-2 px-4 text-left\",\n              children: \"Date\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 464,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              className: \"py-2 px-4 text-left\",\n              children: \"Metric\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 465,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              className: \"py-2 px-4 text-left\",\n              children: \"Value\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 466,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              className: \"py-2 px-4 text-left\",\n              children: \"Unit\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 467,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              className: \"py-2 px-4 text-left\",\n              children: \"Actions\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 468,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 463,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 462,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n          children: [filteredReadings.map(r => /*#__PURE__*/_jsxDEV(\"tr\", {\n            className: \"border-b\",\n            children: [/*#__PURE__*/_jsxDEV(\"td\", {\n              className: \"py-2 px-4\",\n              children: r.date\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 474,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              className: \"py-2 px-4\",\n              children: r.metric_type\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 475,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              className: \"py-2 px-4\",\n              children: r.value\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 476,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              className: \"py-2 px-4\",\n              children: r.unit\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 477,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              className: \"py-2 px-4 space-x-2\",\n              children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => handleEdit(r),\n                className: \"text-blue-600 hover:underline\",\n                children: \"Edit\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 479,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => handleDelete(r.id),\n                className: \"text-red-600 hover:underline\",\n                children: \"Delete\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 485,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 478,\n              columnNumber: 17\n            }, this)]\n          }, r.id, true, {\n            fileName: _jsxFileName,\n            lineNumber: 473,\n            columnNumber: 15\n          }, this)), filteredReadings.length === 0 && /*#__PURE__*/_jsxDEV(\"tr\", {\n            children: /*#__PURE__*/_jsxDEV(\"td\", {\n              colSpan: \"5\",\n              className: \"text-center py-4 text-gray-500\",\n              children: \"No data to display.\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 496,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 495,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 471,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 461,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 460,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 369,\n    columnNumber: 5\n  }, this);\n}\n_s(Dashboard, \"ALxzEctdzsYOWp52NframpE4Qgc=\");\n_c = Dashboard;\nexport default Dashboard;\nvar _c;\n$RefreshReg$(_c, \"Dashboard\");","map":{"version":3,"names":["React","useEffect","useState","api","jsxDEV","_jsxDEV","Dashboard","_s","readings","setReadings","metricType","setMetricType","value","setValue","unit","setUnit","date","setDate","editingId","setEditingId","filter","setFilter","sortOrder","setSortOrder","last30DaysOnly","setLast30DaysOnly","token","localStorage","getItem","fetchReadings","res","get","headers","Authorization","data","err","_err$response","console","error","response","message","alert","uniqueMetrics","Set","map","r","metric_type","filteredReadings","today","Date","readingDate","diffInDays","sort","a","b","handleSubmit","e","preventDefault","payload","put","post","_err$response2","handleEdit","reading","id","handleDelete","window","confirm","delete","_err$response3","handleLogout","removeItem","location","reload","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onClick","onSubmit","onChange","target","type","placeholder","required","m","checked","length","colSpan","_c","$RefreshReg$"],"sources":["/Users/druvath09/venvs/vitallog-frontend/src/components/Dashboard.js"],"sourcesContent":["// import React, { useEffect, useState } from \"react\";\n// import api from \"../api/axios\";\n\n// function Dashboard() {\n//   const [readings, setReadings] = useState([]);\n//   const [metricType, setMetricType] = useState(\"weight\");\n//   const [value, setValue] = useState(\"\");\n//   const [unit, setUnit] = useState(\"\");\n//   const [date, setDate] = useState(\"\");\n//   const [filter, setFilter] = useState(\"all\");\n//   const [sortOrder, setSortOrder] = useState(\"desc\");\n//   const [editingId, setEditingId] = useState(null);\n\n//   const token = localStorage.getItem(\"access\");\n\n//   const fetchReadings = async () => {\n//     try {\n//       const res = await api.get(\"/api/readings/\", {\n//         headers: { Authorization: `Bearer ${token}` },\n//       });\n//       setReadings(res.data);\n//     } catch (err) {\n//       console.error(\"Error fetching readings:\", err.response?.data || err.message);\n//     }\n//   };\n\n//   useEffect(() => {\n//     fetchReadings();\n//   }, []);\n\n//   const handleAdd = async (e) => {\n//     e.preventDefault();\n//     try {\n//       await api.post(\n//         \"/api/readings/\",\n//         { metric_type: metricType, value, unit, date },\n//         { headers: { Authorization: `Bearer ${token}` } }\n//       );\n//       fetchReadings();\n//       setValue(\"\");\n//       setUnit(\"\");\n//       setDate(\"\");\n//     } catch (err) {\n//       console.error(\"Error adding reading:\", err.response?.data || err.message);\n//     }\n//   };\n\n//   const handleDelete = async (id) => {\n//     if (!window.confirm(\"Delete this entry?\")) return;\n//     try {\n//       await api.delete(`/api/readings/${id}/`, {\n//         headers: { Authorization: `Bearer ${token}` },\n//       });\n//       fetchReadings();\n//     } catch (err) {\n//       console.error(\"Error deleting:\", err.response?.data || err.message);\n//     }\n//   };\n\n//   const handleEdit = (id) => {\n//     setEditingId(id);\n//   };\n\n//   const handleSaveEdit = async (reading) => {\n//     try {\n//       await api.put(`/api/readings/${reading.id}/`, reading, {\n//         headers: { Authorization: `Bearer ${token}` },\n//       });\n//       setEditingId(null);\n//       fetchReadings();\n//     } catch (err) {\n//       console.error(\"Error saving edit:\", err.response?.data || err.message);\n//     }\n//   };\n\n//   const filteredReadings = readings\n//     .filter((r) => (filter === \"all\" ? true : r.metric_type === filter))\n//     .sort((a, b) =>\n//       sortOrder === \"desc\"\n//         ? new Date(b.date) - new Date(a.date)\n//         : new Date(a.date) - new Date(b.date)\n//     );\n\n//   const uniqueMetrics = [...new Set(readings.map((r) => r.metric_type))];\n\n//   return (\n//     <div className=\"max-w-4xl mx-auto p-4\">\n//       <div className=\"flex justify-between items-center mb-6\">\n//         <h2 className=\"text-2xl font-semibold\">My Health Metrics</h2>\n//         <button\n//           className=\"text-sm text-red-600 hover:underline\"\n//           onClick={() => {\n//             localStorage.removeItem(\"access\");\n//             localStorage.removeItem(\"refresh\");\n//             window.location.href = \"/login\";\n//           }}\n//         >\n//           Logout\n//         </button>\n//       </div>\n\n//       <form\n//         onSubmit={handleAdd}\n//         className=\"flex flex-wrap gap-2 mb-6 items-center\"\n//       >\n//         <select\n//           value={metricType}\n//           onChange={(e) => setMetricType(e.target.value)}\n//           className=\"border rounded px-2 py-1\"\n//         >\n//           <option value=\"weight\">Weight</option>\n//           <option value=\"blood_pressure\">Blood Pressure</option>\n//           <option value=\"blood_sugar\">Blood Sugar</option>\n//         </select>\n//         <input\n//           type=\"number\"\n//           placeholder=\"Value\"\n//           value={value}\n//           onChange={(e) => setValue(e.target.value)}\n//           className=\"border rounded px-2 py-1\"\n//           required\n//         />\n//         <input\n//           placeholder=\"Unit\"\n//           value={unit}\n//           onChange={(e) => setUnit(e.target.value)}\n//           className=\"border rounded px-2 py-1\"\n//           required\n//         />\n//         <input\n//           type=\"date\"\n//           value={date}\n//           onChange={(e) => setDate(e.target.value)}\n//           className=\"border rounded px-2 py-1\"\n//           required\n//         />\n//         <button\n//           type=\"submit\"\n//           className=\"bg-blue-600 text-white px-3 py-1 rounded hover:bg-blue-700\"\n//         >\n//           Add\n//         </button>\n//       </form>\n\n//       <div className=\"flex gap-4 mb-4\">\n//         <div>\n//           <label className=\"mr-2\">Filter:</label>\n//           <select\n//             value={filter}\n//             onChange={(e) => setFilter(e.target.value)}\n//             className=\"border rounded px-2 py-1\"\n//           >\n//             <option value=\"all\">All</option>\n//             {uniqueMetrics.map((m) => (\n//               <option key={m} value={m}>\n//                 {m}\n//               </option>\n//             ))}\n//           </select>\n//         </div>\n\n//         <div>\n//           <label className=\"mr-2\">Sort by date:</label>\n//           <select\n//             value={sortOrder}\n//             onChange={(e) => setSortOrder(e.target.value)}\n//             className=\"border rounded px-2 py-1\"\n//           >\n//             <option value=\"desc\">Newest First</option>\n//             <option value=\"asc\">Oldest First</option>\n//           </select>\n//         </div>\n//       </div>\n\n//       <table className=\"w-full text-left border-t border-b\">\n//         <thead>\n//           <tr className=\"bg-gray-100\">\n//             <th className=\"py-2 px-4\">Date</th>\n//             <th className=\"py-2 px-4\">Metric</th>\n//             <th className=\"py-2 px-4\">Value</th>\n//             <th className=\"py-2 px-4\">Unit</th>\n//             <th className=\"py-2 px-4\">Actions</th>\n//           </tr>\n//         </thead>\n//         <tbody>\n//           {filteredReadings.map((r) => (\n//             <tr key={r.id} className=\"border-t\">\n//               <td className=\"py-2 px-4\">{r.date}</td>\n//               <td className=\"py-2 px-4\">{r.metric_type}</td>\n//               <td className=\"py-2 px-4\">\n//                 {editingId === r.id ? (\n//                   <input\n//                     value={r.value}\n//                     onChange={(e) =>\n//                       setReadings((prev) =>\n//                         prev.map((x) =>\n//                           x.id === r.id ? { ...x, value: e.target.value } : x\n//                         )\n//                       )\n//                     }\n//                     className=\"border px-2 py-1 rounded\"\n//                   />\n//                 ) : (\n//                   r.value\n//                 )}\n//               </td>\n//               <td className=\"py-2 px-4\">\n//                 {editingId === r.id ? (\n//                   <input\n//                     value={r.unit}\n//                     onChange={(e) =>\n//                       setReadings((prev) =>\n//                         prev.map((x) =>\n//                           x.id === r.id ? { ...x, unit: e.target.value } : x\n//                         )\n//                       )\n//                     }\n//                     className=\"border px-2 py-1 rounded\"\n//                   />\n//                 ) : (\n//                   r.unit\n//                 )}\n//               </td>\n//               <td className=\"py-2 px-4\">\n//                 {editingId === r.id ? (\n//                   <button\n//                     onClick={() => handleSaveEdit(r)}\n//                     className=\"text-green-600 hover:underline mr-2\"\n//                   >\n//                     Save\n//                   </button>\n//                 ) : (\n//                   <button\n//                     onClick={() => handleEdit(r.id)}\n//                     className=\"text-blue-600 hover:underline mr-2\"\n//                   >\n//                     Edit\n//                   </button>\n//                 )}\n//                 <button\n//                   onClick={() => handleDelete(r.id)}\n//                   className=\"text-red-600 hover:underline\"\n//                 >\n//                   Delete\n//                 </button>\n//               </td>\n//             </tr>\n//           ))}\n//         </tbody>\n//       </table>\n//     </div>\n//   );\n// }\n\n// export default Dashboard;\n\n\nimport React, { useEffect, useState } from \"react\";\nimport api from \"../api/axios\";\n\nfunction Dashboard() {\n  const [readings, setReadings] = useState([]);\n  const [metricType, setMetricType] = useState(\"weight\");\n  const [value, setValue] = useState(\"\");\n  const [unit, setUnit] = useState(\"\");\n  const [date, setDate] = useState(\"\");\n  const [editingId, setEditingId] = useState(null);\n  const [filter, setFilter] = useState(\"all\");\n  const [sortOrder, setSortOrder] = useState(\"desc\");\n  const [last30DaysOnly, setLast30DaysOnly] = useState(false);\n\n  const token = localStorage.getItem(\"access\");\n\n  const fetchReadings = async () => {\n    try {\n      const res = await api.get(\"/api/readings/\", {\n        headers: { Authorization: `Bearer ${token}` },\n      });\n      setReadings(res.data);\n    } catch (err) {\n      console.error(\"Error fetching readings:\", err.response?.data || err.message);\n      alert(\"Error fetching data\");\n    }\n  };\n\n  useEffect(() => {\n    fetchReadings();\n  }, []);\n\n  const uniqueMetrics = [...new Set(readings.map((r) => r.metric_type))];\n\n  const filteredReadings = readings\n    .filter((r) => {\n      if (filter !== \"all\" && r.metric_type !== filter) return false;\n\n      if (last30DaysOnly) {\n        const today = new Date();\n        const readingDate = new Date(r.date);\n        const diffInDays = (today - readingDate) / (1000 * 60 * 60 * 24);\n        if (diffInDays > 30) return false;\n      }\n\n      return true;\n    })\n    .sort((a, b) =>\n      sortOrder === \"desc\"\n        ? new Date(b.date) - new Date(a.date)\n        : new Date(a.date) - new Date(b.date)\n    );\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    const payload = {\n      metric_type: metricType,\n      value,\n      unit,\n      date,\n    };\n\n    try {\n      if (editingId) {\n        await api.put(`/api/readings/${editingId}/`, payload, {\n          headers: { Authorization: `Bearer ${token}` },\n        });\n        setEditingId(null);\n      } else {\n        await api.post(\"/api/readings/\", payload, {\n          headers: { Authorization: `Bearer ${token}` },\n        });\n      }\n      setValue(\"\");\n      setUnit(\"\");\n      setDate(\"\");\n      fetchReadings();\n    } catch (err) {\n      console.error(\"Error saving reading:\", err.response?.data || err.message);\n      alert(\"Error saving reading. Check console for details.\");\n    }\n  };\n\n  const handleEdit = (reading) => {\n    setEditingId(reading.id);\n    setMetricType(reading.metric_type);\n    setValue(reading.value);\n    setUnit(reading.unit);\n    setDate(reading.date);\n  };\n\n  const handleDelete = async (id) => {\n    if (!window.confirm(\"Are you sure you want to delete this reading?\")) return;\n    try {\n      await api.delete(`/api/readings/${id}/`, {\n        headers: { Authorization: `Bearer ${token}` },\n      });\n      fetchReadings();\n    } catch (err) {\n      console.error(\"Error deleting reading:\", err.response?.data || err.message);\n      alert(\"Error deleting reading\");\n    }\n  };\n\n  const handleLogout = () => {\n    localStorage.removeItem(\"access\");\n    localStorage.removeItem(\"refresh\");\n    window.location.reload();\n  };\n\n  return (\n    <div className=\"min-h-screen bg-gray-100 p-6\">\n      <div className=\"flex justify-between items-center mb-6\">\n        <h2 className=\"text-2xl font-bold\">My Health Metrics</h2>\n        <button\n          onClick={handleLogout}\n          className=\"bg-red-500 text-white px-4 py-2 rounded hover:bg-red-600\"\n        >\n          Logout\n        </button>\n      </div>\n\n      <form onSubmit={handleSubmit} className=\"flex flex-wrap gap-4 mb-6\">\n        <select\n          value={metricType}\n          onChange={(e) => setMetricType(e.target.value)}\n          className=\"border rounded px-3 py-2\"\n        >\n          <option value=\"weight\">Weight</option>\n          <option value=\"blood_pressure\">Blood Pressure</option>\n          <option value=\"blood_sugar\">Blood Sugar</option>\n        </select>\n        <input\n          type=\"number\"\n          placeholder=\"Value\"\n          value={value}\n          onChange={(e) => setValue(e.target.value)}\n          required\n          className=\"border rounded px-3 py-2\"\n        />\n        <input\n          placeholder=\"Unit\"\n          value={unit}\n          onChange={(e) => setUnit(e.target.value)}\n          required\n          className=\"border rounded px-3 py-2\"\n        />\n        <input\n          type=\"date\"\n          value={date}\n          onChange={(e) => setDate(e.target.value)}\n          required\n          className=\"border rounded px-3 py-2\"\n        />\n        <button\n          type=\"submit\"\n          className=\"bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600\"\n        >\n          {editingId ? \"Update\" : \"Add\"}\n        </button>\n      </form>\n\n      <div className=\"flex gap-4 mb-4 flex-wrap\">\n        <div>\n          <label className=\"mr-2\">Filter:</label>\n          <select\n            value={filter}\n            onChange={(e) => setFilter(e.target.value)}\n            className=\"border rounded px-2 py-1\"\n          >\n            <option value=\"all\">All</option>\n            {uniqueMetrics.map((m) => (\n              <option key={m} value={m}>\n                {m}\n              </option>\n            ))}\n          </select>\n        </div>\n\n        <div>\n          <label className=\"mr-2\">Sort by date:</label>\n          <select\n            value={sortOrder}\n            onChange={(e) => setSortOrder(e.target.value)}\n            className=\"border rounded px-2 py-1\"\n          >\n            <option value=\"desc\">Newest First</option>\n            <option value=\"asc\">Oldest First</option>\n          </select>\n        </div>\n\n        <label className=\"flex items-center space-x-2\">\n          <input\n            type=\"checkbox\"\n            checked={last30DaysOnly}\n            onChange={(e) => setLast30DaysOnly(e.target.checked)}\n            className=\"h-4 w-4 text-blue-600\"\n          />\n          <span>Last 30 days only</span>\n        </label>\n      </div>\n\n      <div className=\"overflow-x-auto\">\n        <table className=\"min-w-full bg-white rounded shadow\">\n          <thead className=\"bg-gray-200\">\n            <tr>\n              <th className=\"py-2 px-4 text-left\">Date</th>\n              <th className=\"py-2 px-4 text-left\">Metric</th>\n              <th className=\"py-2 px-4 text-left\">Value</th>\n              <th className=\"py-2 px-4 text-left\">Unit</th>\n              <th className=\"py-2 px-4 text-left\">Actions</th>\n            </tr>\n          </thead>\n          <tbody>\n            {filteredReadings.map((r) => (\n              <tr key={r.id} className=\"border-b\">\n                <td className=\"py-2 px-4\">{r.date}</td>\n                <td className=\"py-2 px-4\">{r.metric_type}</td>\n                <td className=\"py-2 px-4\">{r.value}</td>\n                <td className=\"py-2 px-4\">{r.unit}</td>\n                <td className=\"py-2 px-4 space-x-2\">\n                  <button\n                    onClick={() => handleEdit(r)}\n                    className=\"text-blue-600 hover:underline\"\n                  >\n                    Edit\n                  </button>\n                  <button\n                    onClick={() => handleDelete(r.id)}\n                    className=\"text-red-600 hover:underline\"\n                  >\n                    Delete\n                  </button>\n                </td>\n              </tr>\n            ))}\n            {filteredReadings.length === 0 && (\n              <tr>\n                <td colSpan=\"5\" className=\"text-center py-4 text-gray-500\">\n                  No data to display.\n                </td>\n              </tr>\n            )}\n          </tbody>\n        </table>\n      </div>\n    </div>\n  );\n}\n\nexport default Dashboard;\n"],"mappings":";;AAAA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAC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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}